# 集成聊天机器人使用指南

## 🎉 功能已集成！

聊天机器人功能已经完全集成到 UptimeGuard 主界面中，**不需要单独启动**！

## 🚀 使用方法

### 1. 启动 UptimeGuard
```bash
# 激活虚拟环境
source .venv/bin/activate

# 启动主应用
python app.py
```

### 2. 在界面中使用聊天机器人
1. 打开浏览器访问 UptimeGuard 界面
2. 展开 "🔔 Telegram 通知配置" 区域
3. 点击 "🤖 启动聊天机器人" 按钮
4. 向机器人发送任意消息（如"你好"）
5. Chat ID 会自动获取并保存到配置中

### 3. 测试功能
- 点击 "🧪 测试聊天机器人" 按钮测试配置
- 点击 "🧪 测试连接" 按钮测试通知功能

## ✨ 新增功能

### 在 UI 中新增的按钮：
- **🤖 启动聊天机器人**: 启动聊天机器人获取 Chat ID
- **🧪 测试聊天机器人**: 测试聊天机器人功能

### 自动功能：
- 聊天机器人启动后会在后台运行
- 收到消息后自动提取并保存 Chat ID
- 自动更新配置状态显示

## 🔧 配置流程

1. **配置 Bot Token**（如果还没有）：
   - 在 Telegram 中搜索 @BotFather
   - 发送 `/newbot` 命令创建机器人
   - 复制获得的 Token 到配置中

2. **获取 Chat ID**：
   - 点击 "🤖 启动聊天机器人" 按钮
   - 向机器人发送消息
   - Chat ID 自动保存

3. **启用通知**：
   - 勾选 "启用 Telegram 通知"
   - 点击 "💾 保存配置"
   - 测试连接确认配置正确

## 📱 界面说明

### Telegram 配置区域包含：
- **配置参数**：
  - 启用 Telegram 通知（复选框）
  - Bot Token（密码输入框）
  - Chat ID（文本输入框）
  - 连续失败阈值（数字输入框）

- **操作按钮**：
  - 💾 保存配置
  - 🧪 测试连接
  - 🔄 重置配置
  - 🤖 启动聊天机器人（新增）
  - 🧪 测试聊天机器人（新增）

- **配置说明**：
  - 详细的配置步骤说明
  - 包含聊天机器人的使用方法

## 🎯 优势

1. **无需单独启动**: 聊天机器人集成在主界面中
2. **一键操作**: 点击按钮即可启动聊天机器人
3. **自动配置**: Chat ID 自动获取并保存
4. **实时反馈**: 配置状态实时显示
5. **简单易用**: 新手也能轻松配置

## 🔍 故障排除

### 聊天机器人无响应
- 检查 Bot Token 是否正确配置
- 确认网络连接正常
- 查看界面状态提示

### Chat ID 未自动保存
- 确保已向机器人发送消息
- 检查机器人是否在线
- 重新启动聊天机器人

### 测试失败
- 确认 Bot Token 和 Chat ID 都已配置
- 检查机器人权限设置
- 查看错误提示信息

现在你可以直接在 UptimeGuard 界面中使用聊天机器人功能了！🎉
